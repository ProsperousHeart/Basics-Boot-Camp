# MkDocs Workflow Guide

## Quick Commands

```bash
# View all available commands
make help

# Serve the site locally (auto-reloads on changes)
make docs-serve

# Build the complete site (JupyterLite + MkDocs)
make docs-build

# Clean build files
make docs-clean
```

## Development Workflow

### Daily Development

When you're actively working on content:

```bash
# Start the development server
make docs-serve

# Visit http://127.0.0.1:8000
# Edit your notebooks or markdown files
# Changes appear automatically (except JupyterLite)
```

**Note:** MkDocs auto-reloads when you save files, but you'll need to rebuild JupyterLite manually when updating notebooks for the interactive lab.

### After Updating Notebooks

When you've made changes to Week_1, Week_2, or Week_3 notebooks and want to update the interactive JupyterLite environment:

```bash
# Rebuild everything
make docs-build

# Then serve to view
make docs-serve
```

### Before Deploying/Committing

Before pushing changes or deploying:

```bash
# Clean old builds
make docs-clean

# Build fresh
make docs-build

# Verify everything looks good
make docs-serve
```

## What Each Command Does

### `make docs-serve`

**What it does:**
- Starts a local development server at http://127.0.0.1:8000
- Auto-reloads when you edit markdown files
- Auto-converts notebooks to HTML when they change
- Does NOT rebuild JupyterLite automatically

**When to use:**
- Daily development and content editing
- Previewing changes before committing
- Testing navigation and layout

**Example output:**
```
INFO     -  Building documentation...
INFO     -  Cleaning site directory
INFO     -  Documentation built in 2.34 seconds
INFO     -  [12:00:00] Watching paths for changes: 'docs', 'mkdocs.yml'
INFO     -  [12:00:00] Serving on http://127.0.0.1:8000/
```

### `make docs-build`

**What it does:**
1. Builds JupyterLite interactive environment from Week_1, Week_2, Week_3
2. Builds the complete MkDocs static site
3. Outputs to `site/` directory

**When to use:**
- After updating notebooks (to refresh JupyterLite)
- Before deploying to production
- When preparing for GitHub Pages deployment

**Example output:**
```
Building JupyterLite interactive environment...
[... JupyterLite build logs ...]
Building MkDocs site...
INFO     -  Building documentation...
INFO     -  Documentation built in 3.45 seconds
Documentation built successfully! Open site/index.html to view.
```

### `make docs-clean`

**What it does:**
- Removes `site/` directory (MkDocs output)
- Removes `docs/jupyterlite/` directory (JupyterLite output)

**When to use:**
- Before a fresh build
- When troubleshooting build issues
- To free up disk space

## File Structure

```
Basics-Boot-Camp/
├── mkdocs.yml              # MkDocs configuration
├── Makefile                # Automation commands
├── docs/                   # Documentation source
│   ├── index.md           # Landing page
│   ├── getting-started/
│   ├── tutorials/
│   ├── guidelines/        # This file!
│   └── jupyterlite/       # Generated by JupyterLite (gitignore this)
├── docs/BC_Weeks/Week_1/                 # Course notebooks (source)
├── docs/BC_Weeks/Week_2/
├── docs/BC_Weeks/Week_3/
└── site/                   # Generated by MkDocs (gitignore this)
```

## Common Workflows

### Workflow 1: Editing Documentation Only

You're updating README, tutorials, or markdown content:

```bash
# Start server
make docs-serve

# Edit docs/*.md files
# Browser auto-refreshes

# When done, commit your changes
git add docs/
git commit -m "Update documentation"
```

### Workflow 2: Updating Notebooks

You're modifying the course notebooks:

```bash
# Edit docs/BC_Weeks/Week_1/Python_Basics_01_-_Introduction.ipynb
# Save your changes

# If you want to update the interactive lab:
make docs-build

# Preview
make docs-serve

# Commit
git add docs/BC_Weeks/Week_1/
git commit -m "Update Week 1 Introduction notebook"
```

### Workflow 3: Adding New Content

Adding a new notebook or page:

```bash
# 1. Create your new file
# Example: docs/BC_Weeks/Week_1/Python_Basics_13_-_New_Topic.ipynb

# 2. Add it to mkdocs.yml navigation
# Edit mkdocs.yml and add under appropriate section

# 3. Rebuild
make docs-build

# 4. Test
make docs-serve

# 5. Commit
git add docs/BC_Weeks/Week_1/Python_Basics_13_-_New_Topic.ipynb mkdocs.yml
git commit -m "Add new topic to Week 1"
```

## Troubleshooting

### JupyterLite not updating

**Problem:** Changes to notebooks don't appear in JupyterLite

**Solution:**
```bash
make docs-clean
make docs-build
```

### MkDocs not seeing new files

**Problem:** New files don't appear in navigation

**Solution:**
1. Ensure file is listed in `mkdocs.yml` under `nav:` section
2. Restart the server: `Ctrl+C` then `make docs-serve`

### Build fails

**Problem:** Error during `make docs-build`

**Solution:**
```bash
# Clean and try again
make docs-clean
make docs-build

# If still failing, check:
# - File paths in mkdocs.yml are correct
# - Notebook files are valid JSON
# - No syntax errors in mkdocs.yml
```

### Site looks broken locally

**Problem:** CSS/styling not loading

**Solution:**
- Check you're visiting http://127.0.0.1:8000 (with http://)
- Try hard refresh: Ctrl+Shift+R (Windows/Linux) or Cmd+Shift+R (Mac)
- Restart server: `Ctrl+C` then `make docs-serve`

## Gitignore Recommendations

Add these to `.gitignore`:

```
# MkDocs build output
/site/

# JupyterLite build output
/docs/jupyterlite/

# Notebook checkpoints
.ipynb_checkpoints/
```

## Deployment

### GitHub Pages (Automated)

To deploy automatically on every push:

```bash
# One-time setup
git checkout -b gh-pages
git push -u origin gh-pages
git checkout main

# Create .github/workflows/docs.yml (see automation guide)

# After that, every push to main triggers deployment
git push origin main
```

### GitHub Pages (Manual)

To deploy manually:

```bash
# Build the site
make docs-build

# Deploy to GitHub Pages
uv run mkdocs gh-deploy
```

## Tips

1. **Keep `docs-serve` running** while you work for instant feedback
2. **Rebuild JupyterLite** only when you've updated notebooks for the interactive lab
3. **Test locally** before deploying - run `make docs-build` and check `site/index.html`
4. **Use `make docs-clean`** if you encounter weird caching issues

## Summary

**Daily editing:** `make docs-serve`
**Updated notebooks:** `make docs-build` then `make docs-serve`
**Before deploy:** `make docs-clean` then `make docs-build`
**See all commands:** `make help`

That's it! You now have a convenient, automated workflow for maintaining your documentation site.
